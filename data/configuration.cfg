#------------------------------------------------------------------
[Application Parameters]
#------------------------------------------------------------------

#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_04_11_BWS_sn65_MetallicDisk'
datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_07_13_PSB_Tests_Metallic_Disk'
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_06_07_PS_PXBWSRB011_CR000001_Acquisition_Tests_Without_Beam'
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_06_08_PS_PXBWSRB011_CR000001_Acquisition_Tests_With_Beam_LHCINDIV'
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_06_11_PS_PXBWSRB011_CR000001_Acquisition_Tests_With_Beam_LHCINDIV_LHCPROBE_TOF'
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_06_13_PS_PXBWSRB011_CR000001_Acquisition_Tests_With_Beam_LHC25_BCMS'

info_datapath = "H:/user/j/jsirvent/Work/MD_Scripts/SPS/Auto_Script"

System = 'PSB' # 'PSB', 'PS' or 'SPS'

#------------------------------------------------------------------
[Scopes Config]
#------------------------------------------------------------------
# 0 - OFF / 1 - 50mv / 2 - 100mV / 3 - 200mV / 4 - 500mV / 5 - 1V / 6 - 2V

pmt_pico_sn = 'ET300/013'
pmt_pico_def_scale = [5,5,5,5]
pmt_pico_fs = 1000000

ps_pico_sn = 'FP617/003'
ps_pico_def_scale = 5
ps_pico_fs = 390000

#------------------------------------------------------------------
[CalibrationCurve]
#------------------- Values in millimeters and radians ------------

# PS_PXBWSRB011_CR000001: 2018_01_12__17_14
# -----------------------------------------
#rotation_offset = 103.31833
#fork_length = 182.19213
#fork_phase = -0.82852

# PSB_PXBWSRA005_CR000001: 2018_02_23__11_17
# ------------------------------------------
rotation_offset = 85.92665
fork_length = 150.48338
fork_phase = -0.79959

# SPS:
# ----
#rotation_offset = 85
#fork_length = 150
#fork_phase =  2.984395102  #2.09439   -0.89

show_projected = True
#------------------------------------------------------------------
[Defaults]
#------------------- Values in ms ---------------------------------

# For PS with DSpace:
# -------------------
#pmt_in_start = 28
#pmt_in_stop = 32
#ops_in_start = 0
#ops_in_stop = 50
#ops_in_ref = 16.0

#pmt_out_start = 372
#pmt_out_stop = 378
#ops_out_start = 350
#ops_out_stop = 410
#ops_out_ref = 372.0

# For PSB with Dev Kit:
# ---------------------
pmt_in_start = 18
pmt_in_stop = 22
ops_in_start = 0
ops_in_stop = 50
ops_in_ref = 15.5

pmt_out_start = 328
pmt_out_stop = 332
ops_out_start = 310
ops_out_stop = 360
ops_out_ref = 320.0

# For SPS with Dev Kit:
# ---------------------
#pmt_in_start = 24
#pmt_in_stop = 27
#ops_in_start = 0
#ops_in_stop = 60
#ops_in_ref = 10.0

#pmt_out_start = 334
#pmt_out_stop = 336
#ops_out_start = 310
#ops_out_stop = 370
#ops_out_ref = 330.0

#-----------------------------------------------------
[OPS processing parameters]
#-------------------------------- Time in seconds ----

prominence = 0.08
slits_per_turn = 29374 #20000 (For SPS)   29374 (For PS and PSB)
relative_distance_correction_prameters = [1.5, 2.4, 3.5]
camelback_threshold = 0
Process_Occlusions = True
Compensate_Eccentricity = True
low_pass_filter_freq = 1e6                              # Cutting LPF Frequencies on Hz
centroids = False

#-----------------------------------------------------
[PMT processing parameters]
#-----------------------------------------------------

filterfreq_rawview = 80e6
downsample_rawview = 3

filterfreq_profile = 10e3
downsample_profile = 1000