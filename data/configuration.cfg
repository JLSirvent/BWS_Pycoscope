#------------------------------------------------------------------
[Application Parameters]
#------------------------------------------------------------------

# PSB
# ---
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_04_11_BWS_sn65_MetallicDisk'
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_07_13_PSB_Tests_Metallic_Disk'

# PS
# --

#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_06_07_PS_PXBWSRB011_CR000001_Acquisition_Tests_Without_Beam'
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_06_08_PS_PXBWSRB011_CR000001_Acquisition_Tests_With_Beam_LHCINDIV'
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_06_11_PS_PXBWSRB011_CR000001_Acquisition_Tests_With_Beam_LHCINDIV_LHCPROBE_TOF'
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_06_13_PS_PXBWSRB011_CR000001_Acquisition_Tests_With_Beam_LHC25_BCMS'
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_08_23_PS_PXBWSRB011_CR000001_Acquisition_Tests_Sistematics_INOUT'
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_10_02_PS_PXBWSRB011_CR000001_MotionTests_NewControlElectronics_Eugenio'
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_10_02_PS_PXBWSRB011_CR000001_QPMT_Tests'
datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_10_30_PS_PXBWSRB011_CR000001_MD_BCMS_Systematics_INOUT'

# SPS
# ---
#datapath = 'G:/Projects/BWS_Calibrations/Tunnel_Tests/2018_07_17_MD3814_BWS_SPS_MPMT'

info_datapath = "H:/user/j/jsirvent/Work/MD_Scripts/PS/Auto_Script"

System = 'PS'  #'PSB', 'PS' or 'SPS'

#------------------------------------------------------------------
[Scopes Config]
#------------------------------------------------------------------
# 0 - OFF / 1 - 50mv / 2 - 100mV / 3 - 200mV / 4 - 500mV / 5 - 1V / 6 - 2V

pmt_pico_sn = 'ET300/013'
pmt_pico_def_scale = [5,5,5,5]
pmt_pico_fs = 1000000

ps_pico_sn = 'FP617/003'
ps_pico_def_scale = 5
ps_pico_fs = 390000

#------------------------------------------------------------------
[CalibrationCurve]
#------------------- Values in millimeters and radians ------------

# PS_PXBWSRB011_CR000001: 2018_01_12__17_14
# -----------------------------------------
rotation_offset = 103.48044728
fork_length = 182.33263347
fork_phase = 0.8296265


# PSB_PXBWSRA005_CR000001: 2018_02_23__11_17
# ------------------------------------------
#rotation_offset = 85.92665
#fork_length = 150.48338
#fork_phase = 1.570796

#fork_phase = -1.185398   Modification for current BWS Def: -0.79959

# SPS:
# ----
#rotation_offset = 85
#fork_length = 150
#fork_phase =  2.984395102  #2.09439   -0.89

show_projected = True
#------------------------------------------------------------------
[Defaults]
#------------------- Values in ms ---------------------------------

# For PS with DSpace:
# -------------------
#pmt_in_start = 28
#pmt_in_stop = 32
#ops_in_start = 0
#ops_in_stop = 50
#ops_in_ref = 16.0

#pmt_out_start = 372
#pmt_out_stop = 378
#ops_out_start = 350
#ops_out_stop = 410
#ops_out_ref = 390.0

# For PS with VFC: 10ms-1 (200ms INOUT)
# -------------------
#pmt_in_start = 44
#pmt_in_stop = 49
#ops_in_start = 0
#ops_in_stop = 90
#ops_in_ref = 24.5

#pmt_out_start =229
#pmt_out_stop = 234.5
#ops_out_start = 200
#ops_out_stop = 273
#ops_out_ref = 252.6

# For PS with VFC: 10ms-1 (256ms INOUT)
# -------------------
#pmt_in_start = 44.5
#pmt_in_stop = 49
#ops_in_start = 0
#ops_in_stop = 90
#ops_in_ref = 25.4

#pmt_out_start = 287
#pmt_out_stop = 291
#ops_out_start = 260
#ops_out_stop = 334
#ops_out_ref = 309.0

# For PS with VFC: 10ms-1 (400ms INOUT)
# -------------------
pmt_in_start = 44
pmt_in_stop = 49
ops_in_start = 0
ops_in_stop = 90
ops_in_ref = 24.5

pmt_out_start =429
pmt_out_stop = 434.5
ops_out_start = 400
ops_out_stop = 473
ops_out_ref = 452.6

# For PSB with Dev Kit:
# ---------------------
#pmt_in_start = 18
#pmt_in_stop = 22
#ops_in_start = 0
#ops_in_stop = 50
#ops_in_ref = 15.5

#pmt_out_start = 328
#pmt_out_stop = 332
#ops_out_start = 310
#ops_out_stop = 360
#ops_out_ref = 334.5


# For SPS with Dev Kit:
# ---------------------
#pmt_in_start = 24
#pmt_in_stop = 27
#ops_in_start = 0
#ops_in_stop = 60
#ops_in_ref = 10.0

#pmt_out_start = 334
#pmt_out_stop = 336
#ops_out_start = 310
#ops_out_stop = 370
#ops_out_ref = 330.0

#-----------------------------------------------------
[OPS processing parameters]
#-------------------------------- Time in seconds ----

prominence = 0.08
slits_per_turn = 29400 #20000 (For SPS)   29386 (For PS)  29400 for PSB
relative_distance_correction_prameters = [1.5, 2.4, 3.5]
camelback_threshold = 0
Process_Occlusions = True
Compensate_Eccentricity = True
low_pass_filter_freq = 1e6                              # Cutting LPF Frequencies on Hz
centroids = False

#-----------------------------------------------------
[PMT processing parameters]
#-----------------------------------------------------

filterfreq_rawview = 900e6
downsample_rawview = 1

filterfreq_profile = 20e3
downsample_profile = 50